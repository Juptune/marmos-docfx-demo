<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Overloads for - gapWeightedSimilarity | Marmos Demo </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Overloads for - gapWeightedSimilarity | Marmos Demo ">
      
      
      <link rel="icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ApiPage">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../logo.svg" alt="Marmos Demo">
            Marmos Demo
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="std.numeric.Functions.gapWeightedSimilarity">
<h1 class='section'>Overloads for - gapWeightedSimilarity</h1><div class="facts text-secondary">
<dl><dt>Module</dt><dd>std.numeric</dd></dl>
</div><h2 class='section api'>gapWeightedSimilarity(s, t, lambda)   </h2>
 <pre><code class='lang-d'>F gapWeightedSimilarity(
  R1 s,
  R2 t,
  F lambda
) </code></pre><p>The so-called &quot;all-lengths gap-weighted string kernel&quot; computes a similarity measure between <code>s</code> and <code>t</code> based on all of their common subsequences of all lengths. Gapped subsequences are also included.</p>
<p>To understand what $(D gapWeightedSimilarity(s, t, lambda)) computes, consider first the case $(D lambda = 1) and the strings $(D s = [&quot;Hello&quot;, &quot;brave&quot;, &quot;new&quot;, &quot;world&quot;]) and $(D t = [&quot;Hello&quot;, &quot;new&quot;, &quot;world&quot;]). In that case, <code>gapWeightedSimilarity</code> counts the following matches:</p>
<p>$(OL $(LI three matches of length 1, namely <code>&quot;Hello&quot;</code> , <code>&quot;new&quot;</code> , and <code>&quot;world&quot;</code> ;) <span class="math">\((LI three matches of length 2, namely (\)</span>(D &quot;Hello&quot;, &quot;new&quot;)), (<span class="math">\((D &quot;Hello&quot;, &quot;world&quot;)), and (\)</span>(D &quot;new&quot;, &quot;world&quot;));) <span class="math">\((LI one match of length 3, namely (\)</span>(D &quot;Hello&quot;, &quot;new&quot;, &quot;world&quot;)).))</p>
<p>The call $(D gapWeightedSimilarity(s, t, 1)) simply counts all of these matches and adds them up, returning 7.</p>
<p>---- string[] s = [&quot;Hello&quot;, &quot;brave&quot;, &quot;new&quot;, &quot;world&quot;]; string[] t = [&quot;Hello&quot;, &quot;new&quot;, &quot;world&quot;]; assert(gapWeightedSimilarity(s, t, 1) == 7); ----</p>
<p>Note how the gaps in matching are simply ignored, for example (<span class="math">\((D &quot;Hello&quot;, &quot;new&quot;)) is deemed as good a match as (\)</span>(D &quot;new&quot;, &quot;world&quot;)). This may be too permissive for some applications. To eliminate gapped matches entirely, use $(D lambda = 0):</p>
<p>---- string[] s = [&quot;Hello&quot;, &quot;brave&quot;, &quot;new&quot;, &quot;world&quot;]; string[] t = [&quot;Hello&quot;, &quot;new&quot;, &quot;world&quot;]; assert(gapWeightedSimilarity(s, t, 0) == 4); ----</p>
<p>The call above eliminated the gapped matches (<span class="math">\((D &quot;Hello&quot;, &quot;new&quot;)), (\)</span>(D &quot;Hello&quot;, &quot;world&quot;)), and ($(D &quot;Hello&quot;, &quot;new&quot;, &quot;world&quot;)) from the tally. That leaves only 4 matches.</p>
<p>The most interesting case is when gapped matches still participate in the result, but not as strongly as ungapped matches. The result will be a smooth, fine-grained similarity measure between the input strings. This is where values of <code>lambda</code> between 0 and 1 enter into play: gapped matches are $(I exponentially penalized with the number of gaps) with base <code>lambda</code> . This means that an ungapped match adds 1 to the return value; a match with one gap in either string adds <code>lambda</code> to the return value; ...; a match with a total of <code>n</code> gaps in both strings adds <span class="math">\((D pow(lambda, n)) to the return value. In the example above, we have 4 matches without gaps, 2 matches with one gap, and 1 match with three gaps. The latter match is (\)</span>(D &quot;Hello&quot;, &quot;world&quot;)), which has two gaps in the first string and one gap in the second string, totaling to three gaps. Summing these up we get $(D 4 + 2 lambda + pow(lambda, 3)).</p>
<p>---- string[] s = [&quot;Hello&quot;, &quot;brave&quot;, &quot;new&quot;, &quot;world&quot;]; string[] t = [&quot;Hello&quot;, &quot;new&quot;, &quot;world&quot;]; assert(gapWeightedSimilarity(s, t, 0.5) == 4 + 0.5 2 + 0.125); ----</p>
<p><code>gapWeightedSimilarity</code> is useful wherever a smooth similarity measure between sequences allowing for approximate matches is needed. The examples above are given with words, but any sequences with elements comparable for equality are allowed, e.g. characters or numbers. <code>gapWeightedSimilarity</code> uses a highly optimized dynamic programming implementation that needs $(D 16 min(s.length, t.length)) extra bytes of memory and $(BIGOH s.length t.length) time to complete.</p>

</article>

        <div class="contribution d-print-none">
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
