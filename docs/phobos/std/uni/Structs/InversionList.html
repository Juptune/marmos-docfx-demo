<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Struct - InversionList | Marmos Demo </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Struct - InversionList | Marmos Demo ">
      
      
      <link rel="icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ApiPage">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../logo.svg" alt="Marmos Demo">
            Marmos Demo
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="std.uni.Structs.InversionList">
<h1 class='section'>Struct - InversionList</h1><div class="facts text-secondary">
<dl><dt>Module</dt><dd>std.uni</dd></dl>
</div><pre><code class='lang-d'>struct InversionList( SP = GcPolicy )
{
  // 
  alias Marker = &lt;todo: marmos support pending&gt;
  // 
  alias This = &lt;todo: marmos support pending&gt;

  // Add an interval [a, b$(RPAREN) to this set. 
  ref &lt;bug: unknown&gt; add( )( uint a, uint b ) 
  // 
  ref &lt;bug: unknown&gt; add( U )( U rhs ) 
  // 
  Marker addInterval( int a, int b, Marker hint ) scope
  // A range that spans each $(CODEPOINT) in this set. 
  auto byCodepoint() @property
  // Get range that spans all of the $(CODEPOINT) intervals in this $(LREF InversionList). 
  auto byInterval() @property scope
  // 
  Marker dropUpTo( uint a, Marker pos ) 
  // True if this set doesn&#39;t contain any $(CODEPOINTS). 
  bool empty() @property
  // 
  &lt;bug: unknown&gt; fromIntervals( Range )( Range intervals ) pure
  // 
  &lt;bug: unknown&gt; fromIntervals( )( uint[] intervals ) pure
  // 
  ref &lt;bug: unknown&gt; intersect( U )( U rhs ) 
  // 
  ref &lt;bug: unknown&gt; intersect( )( dchar ch ) 
  // 
  CodepointInterval[] intervals() @property
  // Obtains a set that is the inversion of this set. 
  auto inverted() @property
  // Number of $(CODEPOINTS) in this set 
  size_t length() @property
  // $(P Sets support natural syntax for set algebra, namely: ) $(BOOKTABLE , $(TR $(TH Operator) $(TH Math notation) $(TH Description) ) $(TR $(TD &amp;) $(TD a ∩ b) $(TD intersection) ) $(TR $(TD |) $(TD a ∪ b) $(TD union) ) $(TR $(TD -) $(TD a ∖ b) $(TD subtraction) ) $(TR $(TD ~) $(TD a ~ b) $(TD symmetric set difference i.e. (a ∪ b) \ (a ∩ b)) ) ) 
  This opBinary( string op, U )( U rhs ) 
  // Tests the presence of codepoint `ch` in this set, the same as $(LREF opIndex). 
  bool opBinaryRight( string op, U )( U ch ) 
  // Tests the presence of code point `val` in this set. 
  bool opIndex( uint val ) 
  // The &#39;op=&#39; versions of the above overloaded operators. 
  ref This opOpAssign( string op, U )( U rhs ) 
  // Obtains a set that is the inversion of this set. 
  auto opUnary( string op )() 
  // 
  void sanitize() 
  // 
  auto scanFor( )( dchar ch ) 
  // 
  Marker skipUpTo( uint a, Marker pos ) 
  // 
  ref &lt;bug: unknown&gt; sub( )( dchar ch ) 
  // 
  ref &lt;bug: unknown&gt; sub( U )( U rhs ) 
  // 
  ref &lt;bug: unknown&gt; subChar( dchar ch ) 
  // 
  static string toSourceCode( CodepointInterval[] range, string funcName ) 
  // Generates string with D source code of unary function with name of `funcName` taking a single `dchar` argument. If `funcName` is empty the code is adjusted to be a lambda function. 
  string toSourceCode( string funcName ) 
  // Obtain a textual representation of this InversionList in form of open-right intervals. 
  void toString( Writer )( scope Writer sink, const ref scope FormatSpec!(char) fmt ) 

  // 
  CowArray!(SP) data
}</code></pre><h2 class='section'>About</h2><p>$(P <code>InversionList</code> is a set of <span class="math">\((CODEPOINTS) represented as an array of open-right [a, b\)</span>(RPAREN) intervals (see <span class="math">\((LREF CodepointInterval) above). The name comes from the way the representation reads left to right. For instance a set of all values [10, 50\)</span>(RPAREN), [80, 90$(RPAREN), plus a singular value 60 looks like this: ) --- 10, 50, 60, 61, 80, 90 --- $(P The way to read this is: start with negative meaning that all numbers smaller then the next one are not present in this set (and positive - the contrary). Then switch positive/negative after each number passed from left to right. ) $(P This way negative spans until 10, then positive until 50, then negative until 60, then positive until 61, and so on. As seen this provides a space-efficient storage of highly redundant data that comes in long runs. A description which Unicode $(CHARACTER) properties fit nicely. The technique itself could be seen as a variation on $(LINK2 https://en.wikipedia.org/wiki/Run-length_encoding, RLE encoding). )</p>
<p>$(P Sets are value types (just like <code>int</code> is) thus they are never aliased. ) Example: --- auto a = CodepointSet('a', 'z'+1); auto b = CodepointSet('A', 'Z'+1); auto c = a; a = a | b; assert(a == CodepointSet('A', 'Z'+1, 'a', 'z'+1)); assert(a != c); --- $(P See also $(LREF unicode) for simpler construction of sets from predefined ones. )</p>
<p>$(P Memory usage is 8 bytes per each contiguous interval in a set. The value semantics are achieved by using the $(HTTP en.wikipedia.org/wiki/Copy-on-write, COW) technique and thus it's $(RED not) safe to cast this type to $(D_KEYWORD shared). )</p>
<h3 class='section'>Note</h3><p>$(P It's not recommended to rely on the template parameters or the exact type of a current $(CODEPOINT) set in <code>std.uni</code> . The type and parameters may change when the standard allocators design is finalized. Use $(LREF isCodepointSet) with templates or just stick with the default alias $(LREF CodepointSet) throughout the whole code base. )</p>
<h2 class='section'>Aliases</h2><table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../InversionList/InversionList/Aliases/Marker.html">Marker</a></td>
<td></td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Aliases/This.html">This</a></td>
<td></td>
</tr>
</tbody>
</table>
<h2 class='section'>Functions</h2><table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../InversionList/InversionList/Functions/add.html">add</a></td>
<td>Add an interval [a, b$(RPAREN) to this set.</td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/addInterval.html">addInterval</a></td>
<td></td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/byCodepoint.html">byCodepoint</a></td>
<td>A range that spans each $(CODEPOINT) in this set.</td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/byInterval.html">byInterval</a></td>
<td>Get range that spans all of the $(CODEPOINT) intervals in this $(LREF InversionList).</td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/dropUpTo.html">dropUpTo</a></td>
<td></td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/empty.html">empty</a></td>
<td>True if this set doesn't contain any $(CODEPOINTS).</td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/fromIntervals.html">fromIntervals</a></td>
<td></td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/intersect.html">intersect</a></td>
<td></td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/intervals.html">intervals</a></td>
<td></td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/inverted.html">inverted</a></td>
<td>Obtains a set that is the inversion of this set.</td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/length.html">length</a></td>
<td>Number of $(CODEPOINTS) in this set</td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/opBinary.html">opBinary</a></td>
<td>$(P Sets support natural syntax for set algebra, namely: ) $(BOOKTABLE , $(TR $(TH Operator) $(TH Math notation) $(TH Description) ) $(TR $(TD &amp;) $(TD a ∩ b) $(TD intersection) ) $(TR $(TD <code>|</code>) $(TD a ∪ b) $(TD union) ) $(TR $(TD -) $(TD a ∖ b) $(TD subtraction) ) $(TR $(TD ~) $(TD a ~ b) $(TD symmetric set difference i.e. (a ∪ b) \ (a ∩ b)) ) )</td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/opBinaryRight.html">opBinaryRight</a></td>
<td>Tests the presence of codepoint <code>ch</code> in this set, the same as $(LREF opIndex).</td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/opIndex.html">opIndex</a></td>
<td>Tests the presence of code point <code>val</code> in this set.</td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/opOpAssign.html">opOpAssign</a></td>
<td>The 'op=' versions of the above overloaded operators.</td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/opUnary.html">opUnary</a></td>
<td>Obtains a set that is the inversion of this set.</td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/sanitize.html">sanitize</a></td>
<td></td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/scanFor.html">scanFor</a></td>
<td></td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/skipUpTo.html">skipUpTo</a></td>
<td></td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/sub.html">sub</a></td>
<td></td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/subChar.html">subChar</a></td>
<td></td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/toSourceCode.html">toSourceCode</a></td>
<td></td>
</tr>
<tr>
<td><a href="../InversionList/InversionList/Functions/toString.html">toString</a></td>
<td>Obtain a textual representation of this InversionList in form of open-right intervals.</td>
</tr>
</tbody>
</table>
<h2 class='section'>Structs</h2><table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../InversionList/InversionList/Structs/Intervals.html">Intervals</a></td>
<td></td>
</tr>
</tbody>
</table>
<h2 class='section'>Variables</h2><table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../InversionList/InversionList/Variables/data.html">data</a></td>
<td></td>
</tr>
</tbody>
</table>

</article>

        <div class="contribution d-print-none">
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
